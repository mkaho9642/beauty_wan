<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <h2 class="text-center mb-4">検索結果</h2>

      <% if @model == "salon" %>
        <h3 class="mb-3">サロン検索結果</h3>
        <div class="row">
          <% if @records.any? %>
            <% @records.each do |salon| %>
              <div class="col-md-4 mb-4">
                <div class="card shadow-sm h-100 custom-card-background">
                  <div class="card-img-wrapper">
                    <% if salon.image.attached? %>
                      <%= image_tag url_for(salon.image), class: 'card-img-top' %>
                    <% else %>
                      <%= image_tag "no_image.jpg", class: 'card-img-top' %>
                    <% end %>
                  </div>
                  <div class="card-body d-flex flex-column">
                    <h5 class="card-title"><%= link_to salon.name, salon_path(salon) %></h5>
                    <p class="card-text text-muted mb-3">
                      <%= truncate(salon.introduction, length: 70) %>
                    </p>

                    <% if salon.genre.present? %>
                      <p class="card-text"><small class="text-muted">ジャンル: <%= salon.genre.name %></small></p>
                    <% end %>

                    <div class="mt-auto d-flex justify-content-end">
                      <%= render partial: 'public/salons/favorite_button', locals: { salon: salon } %>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% else %>
            <div class="col-12 text-center py-5">
              <p class="lead">該当するサロンは見つかりませんでした。</p>
            </div>
          <% end %>
        </div>
      <% elsif @model == "user" %>
        <h3 class="mb-3">ユーザー検索結果</h3>
        <div class="row">
          <% if @records.any? %>
            <% @records.each do |user| %>
              <div class="col-md-4 mb-4">
                <div class="card shadow-sm h-100 custom-card-background text-center">
                  <div class="card-body d-flex flex-column align-items-center">
                    <div class="profile-image-area mb-3">
                      <%= image_tag user.get_profile_image(100, 100), class: "rounded-circle border border-secondary", style: "width: 100px; height: 100px; object-fit: cover;" %>
                    </div>
                    <h5 class="card-title mb-2"><%= link_to user.name, user_path(user) %></h5>
                    <p class="card-text text-muted mb-0"><%= user.nickname %></p>
                  </div>
                </div>
              </div>
            <% end %>
          <% else %>
            <div class="col-12 text-center py-5">
              <p class="lead">該当するユーザーは見つかりませんでした。</p>
            </div>
          <% end %>
        </div>
      <% else %>
        <div class="col-12 text-center py-5">
          <p class="lead">検索結果はありませんでした。</p>
        </div>
      <% end %>
    </div>
  </div>
</div>